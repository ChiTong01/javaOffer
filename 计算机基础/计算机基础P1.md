### 数据库 操作系统
1，查询语言
`DDL`：数据库模式定义语言，关键字：create 
`DML`：数据操纵语言，关键字：Insert、delete、update 
`DCL`：数据库控制语言 ，关键字：grant、remove
`DQL`：数据库查询语言，关键字：select

2，数据库系统的三级模式
数据库系统的三级模式结构是指`模式`、`外模式`和`内模式`。
- 模式
模式也称为逻辑模式或概念模式，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。一个数据库只有一个模式，模式位于三级结构的中间层。
- 外模式
外模式也称为用户模式，它是数据库用户（包括应用程序员和最终用户）能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图，是与某一应用有关的数据的逻辑表示。外模式是模式的子集，一个数据库可以有多个外模式。
- 内模式
内模式也称为存储模式，一个数据库只有一个内模式，它是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20190929150512998.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3p6enpsZWkxMjMxMjMxMjM=,size_16,color_FFFFFF,t_70)

3，进程的三态模型
![在这里插入图片描述](https://img-blog.csdnimg.cn/20190929151433376.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3p6enpsZWkxMjMxMjMxMjM=,size_16,color_FFFFFF,t_70)
4，虚拟内存

5，死锁
产生死锁的原因主要是：
（1） 因为系统资源不足。
（2） 进程运行推进的顺序不合适。
（3） 资源分配不当等。
如果系统资源充足，进程的资源请求都能够得到满足，死锁出现的可能性就很低，否则
就会因争夺有限的资源而陷入死锁。其次，进程运行推进顺序与速度不同，也可能产生死锁。

产生死锁的四个必要条件：
（1） 互斥条件：一个资源每次只能被一个进程使用。
（2） 请求与保持条件(占有等待)：一个进程因请求资源而阻塞时，对已获得的资源保持不放。
（3） 不剥夺条件:进程已获得的资源，在末使用完之前，不能强行剥夺。
（4） 环路等待条件:若干进程之间形成一种头尾相接的循环等待资源关系。
这四个条件是死锁的必要条件，只要系统发生死锁，这些条件必然成立，而只要上述条件之
一不满足，就不会发生死锁。

6，运行代码的步骤
创建进程首先要将程序和数据装入内存。将用户源程序变为可在内存中执行的程序，通常需要以下几个步骤：
- 编译：由编译程序将用户源代码编译成若干个目标模块。
- 链接：由链接程序将编译后形成的一组目标模块，以及所需库函数链接在一起，形成一个完整的装入模块。
- 装入：由装入程序将装入模块装入内存运行。

这三步过程如图3-1所示。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20190929153422795.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3p6enpsZWkxMjMxMjMxMjM=,size_16,color_FFFFFF,t_70)
程序的链接有以下三种方式：
- 静态链接：在程序运行之前，先将各目标模块及它们所需的库函数链接成一个完整的可执行程序，以后不再拆开。
- 装入时动态链接：将用户源程序编译后所得到的一组目标模块，在装入内存时，釆用边装入边链接的链接方式。
- 运行时动态链接：对某些目标模块的链接，是在程序执行中需要该目标模块时，才对它进行的链接。其优点是便于修改和更新，便于实现对目标模块的共享。

内存的装入模块在装入内存时，同样有以下[三种方式](https://www.nowcoder.com/test/question/done?tid=28185469&qid=23971#summary)：
1) 绝对装入。
2) 可重定位装入。
3) 动态运行时装入，也称为动态重定位.

7，应尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描。union和union all的区别是,union会自动压缩多个结果集合中的重复结果，而union all则将所有的结果全部显示出来，不管是不是重复

8，数据库系统组成
`DBS`(DataBase System:数据库系统)：一般由四个部分组成 
1、`数据库`：存储在磁盘、磁带、光盘上的数据的集合； 
2、`数据库管理系统（DBMS）`:完成描述、管理和维护数据的系统； 
3、数据库管理员（`DBA`）; 
4、用户和应用程序

9，数据库表的设计
（1）需求分析阶段：分析用户需求
（2）概念设计阶段：设计ER图
（3）逻辑设计阶段：设计数据库表
（4）物理设计阶段：设计数据库的存储方式和存储路径
（5）实现阶段
（6）实施维护阶段

10，通道
- 通道是一种通过执行通道程序管理I/O操作的控制器，它使主机（CPU和内存）与I/O操作之间达到更高的并行程度。由于它的任务是管理实现输入/输出操作，提供一种传送通道，所以将这种部件称作“通道”。
- CPU把数据传输功能下放给通道，通道与CPU分时使用内存，就可以实现CPU与外设的并行工作。
- 在采用通道方式的指令系统中，除了供CPU编程使用的机器指令系统外，还设置另外供通道专用的一组通道指令，用通道指令编制通道程序，存入存储器。
- 当需要进行I/O操作时，CPU只需启动通道，然后可以继续执行自身程序，通道则执行通道程序，管理与实现I/O操作。
- 整个系统分为二级管理，一级是CPU对通道的管理，二级是通道对设备控制的管理。

11，进程的模式有`系统态`和`用户态` 两种，一般用户编写的程序是在用户态下工作，当程序中有中断或者调用系统函数 时，会切换到系统态下运行

12，`临界资源`
一次只允许一个进程访问的资源叫做临界资源。也就是说可以被很多进程访问，共享性，但是一个时刻就只能有一个访问，互斥性。

13，数据的不一致性
- `丢失修改`：T1 和 T2 两个事务都对一个数据进行修改，T1 先修改，T2 随后修改，T2 的修改覆盖了 T1 的修改。
- `读脏数据`：T1 修改一个数据，T2 随后读取这个数据。如果 T1 撤销了这次修改，那么 T2 读取的数据是脏数据。
- `不可重复读`：T2 读取一个数据，T1 对该数据做了修改。如果 T2 再次读取这个数据，此时读取的结果和第一次读取的结果不同。
- `幻影读 `：T1 读取某个范围的数据，T2 在这个范围内插入新的数据，T1 再次读取这个范围的数据，此时读取的结果和和第一次读取的结果不同。

产生并发不一致性问题主要原因是破坏了事务的隔离性，解决方法是通过并发控制来保证隔离性。

---
欢迎关注：自由的小黑
![在这里插入图片描述](https://img-blog.csdnimg.cn/20190929162148600.jpg)